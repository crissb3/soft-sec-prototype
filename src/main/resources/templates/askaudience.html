<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>SecQuiz</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body onLoad="setTimeout(window.close, 120000);">
<h1 style="color: white; text-shadow: 2px 2px black; font-size: 20px" th:text="${question}">
</h1>
<h1 style="color: white; text-shadow: 2px 2px black; font-size: 20px" th:text="${message}"></h1>
<canvas id="canvasAudience" width="100" height="50"></canvas>
<script>
    Chart.defaults.color = "white";
    const canvas = document.getElementById("canvasAudience");
    const a = [[${A}]];
    const b = [[${B}]];
    const c = [[${C}]];
    const d = [[${D}]];
    const config = {
        type: "bar",
        data: {
            labels: ["A", "B", "C", "D"],
            datasets: [{
                label: "Percentage of votes from audience",
                data: [a, b, c, d],
                backgroundColor: [
                    'rgb(231,132,129, 0.7)',
                    'rgba(166,255,64,0.7)',
                    'rgba(205,129,243,0.7)',
                    'rgba(255,104,172,0.7)'],
                borderColor: [
                    'rgb(231,132,129)',
                    'rgba(166,255,64)',
                    'rgba(205,129,243)',
                    'rgba(255,104,172)'],
                borderWidth: 2
        }]},
            options: {
                scales: {
                    y: {
                        grid: {
                            color: '#acdaf6'
                        }
                    },
                    x: {
                        grid: {
                            color: '#acdaf6'
                        }
                    }}
    }
    }

    const chart = new Chart(canvas, config);
</script>
</body>

</html>